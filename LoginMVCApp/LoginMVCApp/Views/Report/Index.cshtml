@{
    ViewData["Title"] = "Production Dashboard";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <style>
        body {
            background-color: #000; /* Latar belakang hitam */
            color: #fff; /* Teks putih default */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Mendekati font di gambar */
            overflow: hidden; /* Hindari scrollbar jika tidak perlu */
        }

        .dashboard-container {
            display: flex;
            flex-direction: column;
            height: 100vh; /* Ambil tinggi viewport */
            padding: 10px;
            box-sizing: border-box;
        }

        .header-bar {
            background-color: #333; /* Darker header */
            padding: 5px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.2em;
            margin-bottom: 10px;
            border: 1px solid #555;
        }

        .main-content {
            display: flex;
            flex-grow: 1; /* Ambil ruang sisa */
            gap: 10px;
        }

        .left-panel, .middle-panel, .right-panel-main {
            flex: 1; /* Distribusi ruang secara merata di kolom utama */
            display: flex;
            flex-direction: column;
            gap: 5px; /* Spasi antar baris di dalam panel */
        }

        .left-panel {
            flex: 0.5;
        }
        /* Mungkin sedikit lebih kecil */
        .middle-panel {
            flex: 0.5;
        }

        .right-panel-main {
            flex: 0.5;
        }

        .right-sidebar {
            width: 200px; /* Lebar tetap untuk sidebar */
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding-left: 10px;
        }

        .panel-row {
            background-color: #000; /* Latar belakang hitam untuk setiap baris */
            border: 2px solid #0f0; /* Border hijau terang */
            padding: 5px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            flex-grow: 1; /* Baris mengambil ruang sisa di panel */
        }

            .panel-row.header {
                font-weight: bold;
                font-size: 0.9em; /* Lebih kecil dari nilai utama */
                border-bottom: none; /* Header biasanya tanpa border bawah */
                padding-bottom: 0;
            }

            .panel-row.value {
                font-size: 3em; /* Ukuran angka utama */
                font-weight: bold;
                padding-top: 0;
                padding-bottom: 0;
                height: 100px; /* Tinggi tetap untuk baris nilai */
            }

            .panel-row.small-value {
                font-size: 1.5em; /* Ukuran angka produktivitas */
            }

        /* Specific colors for panels */
        .panel-green {
            background-color: #008000;
            border-color: #00FF00;
        }
        /* Dark Green with bright green border */
        .panel-yellow {
            background-color: #808000;
            border-color: #FFFF00;
        }
        /* Dark Yellow with bright yellow border */
        .panel-red {
            background-color: #800000;
            border-color: #FF0000;
        }
        /* Dark Red with bright red border */
        .panel-blue {
            background-color: #000080;
            border-color: #0000FF;
        }
        /* Dark Blue with bright blue border */

        .panel-label {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 5px; /* Spasi antara label dan nilai */
        }

        .panel-value {
            font-size: 3.5em; /* Angka besar */
            font-weight: bold;
            line-height: 1;
        }

        .panel-percentage {
            font-size: 2em;
            font-weight: bold;
            line-height: 1;
        }

        /* Checker panel specific */
        .checker-panel {
            background-color: #000; /* Black background */
            border: 2px solid #0f0; /* Green border */
        }

            .checker-panel .header-text {
                font-size: 2em;
                font-weight: bold;
                color: #00FF00; /* Bright green text */
                padding: 5px;
                border-bottom: 2px solid #0f0;
                margin-bottom: 5px;
                width: 100%;
                text-align: center;
            }

        .checker-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Two columns */
            gap: 5px;
            width: 100%;
        }

        .checker-cell {
            padding: 10px;
            text-align: center;
            border: 1px solid #0f0; /* Internal grid lines */
        }

            .checker-cell .label {
                font-size: 1em;
                color: #00FF00;
            }

            .checker-cell .value {
                font-size: 2em;
                font-weight: bold;
                color: #00FF00;
            }

        /* Polesh section (right of checker) */
        .polesh-panel {
            background-color: #000; /* Black background */
            border: 2px solid #0f0; /* Green border */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex-grow: 1;
        }

            .polesh-panel .header-text {
                font-size: 2em;
                font-weight: bold;
                color: #FFFF00; /* Yellow text */
                padding: 5px;
                border-bottom: 2px solid #0f0;
                margin-bottom: 5px;
                width: 100%;
                text-align: center;
            }

        .polesh-value-box {
            background-color: #000; /* Black background */
            border: 2px solid #FFFF00; /* Yellow border */
            width: 90%;
            margin: 5px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }

            .polesh-value-box .label {
                font-size: 1.1em;
                color: #FFFF00;
            }

            .polesh-value-box .value {
                font-size: 3em;
                font-weight: bold;
                color: #FFFF00;
            }

        /* Right Sidebar elements */
        .sidebar-section {
            background-color: #000;
            border: 2px solid #0f0;
            padding: 5px;
            margin-bottom: 10px; /* Spasi antar section */
        }

            .sidebar-section.blue-border {
                border-color: #0000FF;
            }

            .sidebar-section.red-border {
                border-color: #FF0000;
            }

        .sidebar-header {
            font-weight: bold;
            font-size: 1.2em;
            padding-bottom: 3px;
            border-bottom: 1px solid #0f0;
            margin-bottom: 5px;
        }

        .opr-item, .qco-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }

        .opr-name, .qco-name {
            font-weight: bold;
            width: 60px; /* Lebar tetap untuk nama OPR/QCO */
            color: #00FF00;
        }

        .opr-values, .qco-values {
            display: flex;
            gap: 5px;
        }

        .opr-value-box, .qco-value-box {
            background-color: #000;
            border: 1px solid #00FF00;
            padding: 2px 5px;
            font-size: 0.9em;
            width: 45px; /* Lebar tetap untuk angka */
            text-align: center;
        }

            .qco-value-box.blue {
                border-color: #0000FF;
                color: #0000FF;
            }

            .qco-value-box.green {
                border-color: #00FF00;
                color: #00FF00;
            }

        /* Product Result Section */
        .product-result-section {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-top: 10px;
        }

        .product-result-box {
            flex: 1;
            background-color: #000;
            border: 2px solid #0f0;
            padding: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

            .product-result-box.green-border {
                border-color: #00FF00;
            }

            .product-result-box.red-border {
                border-color: #FF0000;
            }

            .product-result-box.total-border {
                border-color: #00FFFF; /* Cyan */
            }

            .product-result-box.ok-part-border {
                border-color: #FFFF00;
            }


            .product-result-box .label {
                font-size: 1.1em;
                font-weight: bold;
                margin-bottom: 5px;
            }

            .product-result-box .value {
                font-size: 3em;
                font-weight: bold;
            }

            .product-result-box .percentage {
                font-size: 1.5em;
                font-weight: bold;
            }

        /* OK PART specific */
        .ok-part-target, .ok-part-achive {
            font-size: 1.2em;
            font-weight: bold;
            color: #FFFF00;
        }

            .ok-part-target .label {
                font-size: 0.9em;
                color: #FFFF00;
            }

            .ok-part-achive .label {
                font-size: 0.9em;
                color: #FFFF00;
            }

        .ok-part-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #FFFF00;
        }

        .ok-part-percentage {
            font-size: 1.5em;
            font-weight: bold;
            color: #FFFF00;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="header-bar">
            <div>DATA LOG MONITARING PRODUKSI</div>
            <div style="font-size: 1em;">
                <span style="color: #FFFF00; font-weight: bold;">TEMP</span> @Model.Temperature &nbsp;&nbsp;&nbsp;&nbsp;
                <span style="color: #FFFF00; font-weight: bold;">Selasa, @Model.CurrentDate</span> &nbsp;&nbsp;&nbsp;&nbsp;
                <span style="color: #FFFF00; font-weight: bold;">@Model.CurrentTime</span>
            </div>
        </div>

        <div class="main-content">
            <div class="left-panel">
                <div class="panel-row panel-green">
                    <div class="panel-label">PLAN PRODUKSI</div>
                    <div class="panel-value">@Model.PlanProduksi</div>
                </div>
                <div class="panel-row panel-green small-value">
                    <div class="panel-label">PRODUCTIVITY</div>
                    <div class="panel-value">@Model.Productivity</div>
                    <div class="panel-percentage">@Model.SPass%/-5%</div>
                </div>
                <div class="panel-row panel-green">
                    <div class="panel-label">S/PASS</div>
                    <div class="panel-value">@Model.SPass%</div>
                </div>
                <div class="panel-row panel-green">
                    <div class="panel-label">POLESH</div>
                    <div class="panel-value">@Model.Polesh%</div>
                </div>
            </div>

            <div class="middle-panel checker-panel">
                <div class="checker-panel">
                    <div class="header-text">CHECKER</div>
                    <div class="checker-grid">
                        <div class="checker-cell">
                            <div class="label">TARGET</div>
                            <div class="value">@Model.Target</div>
                        </div>
                        <div class="checker-cell">
                            <div class="label">ACHIVE</div>
                            <div class="value">@Model.Achive</div>
                        </div>
                        <div class="checker-cell" style="grid-column: span 2; border:none; padding-top: 0;">
                            <div class="label"></div> @* Label kosong * @
                            <div class="value">@Model.PercentageAchive%</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right-panel-main polesh-panel">
                <div class="polesh-panel">
                    <div class="header-text" style="color:#FFFF00; border-color: #FFFF00;">POLESH</div>
                    <div class="polesh-value-box">
                        <div class="label">OK</div>
                        <div class="value">@Model.PoleshOk</div>
                    </div>
                    <div class="polesh-value-box">
                        <div class="label">REPAIR</div>
                        <div class="value">@Model.PoleshRepair</div>
                    </div>
                </div>
            </div>

            <div class="right-sidebar">
                <div class="sidebar-section">
                    <div class="sidebar-header">OPR</div>
                    <div class="opr-item">
                        <div class="opr-name">@Model.Opr1.Name</div>
                        <div class="opr-values">
                            <div class="opr-value-box" style="color: #00FF00; border-color: #00FF00;">OK</div>
                            <div class="opr-value-box" style="color: #00FF00; border-color: #00FF00;">@Model.Opr1.Ok</div>
                        </div>
                        <div class="opr-values" style="margin-left: 10px;">
                            <div class="opr-value-box" style="color: #FF0000; border-color: #FF0000;">REPAIR</div>
                            <div class="opr-value-box" style="color: #FF0000; border-color: #FF0000;">@Model.Opr1.Repair</div>
                        </div>
                    </div>
                     <div class="opr-item">
                        <div class="opr-name">@Model.Opr2.Name</div>
                        <div class="opr-values">
                            <div class="opr-value-box" style="color: #00FF00; border-color: #00FF00;">OK</div>
                            <div class="opr-value-box" style="color: #00FF00; border-color: #00FF00;">@Model.Opr2.Ok</div>
                        </div>
                        <div class="opr-values" style="margin-left: 10px;">
                            <div class="opr-value-box" style="color: #FF0000; border-color: #FF0000;">REPAIR</div>
                            <div class="opr-value-box" style="color: #FF0000; border-color: #FF0000;">@Model.Opr2.Repair</div>
                        </div>
                    </div>
                     <div class="opr-item">
                        <div class="opr-name">@Model.Opr3.Name</div>
                        <div class="opr-values">
                            <div class="opr-value-box" style="color: #00FF00; border-color: #00FF00;">OK</div>
                            <div class="opr-value-box" style="color: #00FF00; border-color: #00FF00;">@Model.Opr3.Ok</div>
                        </div>
                        <div class="opr-values" style="margin-left: 10px;">
                            <div class="opr-value-box" style="color: #FF0000; border-color: #FF0000;">REPAIR</div>
                            <div class="opr-value-box" style="color: #FF0000; border-color: #FF0000;">@Model.Opr3.Repair</div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-header">QCO</div>
                    <div class="qco-item">
                        <div class="qco-name">@Model.Qco1.Name</div>
                        <div class="qco-values">
                            <div class="qco-value-box blue">OK_C</div>
                            <div class="qco-value-box blue">@Model.Qco1.OkC</div>
                        </div>
                        <div class="qco-values" style="margin-left: 10px;">
                            <div class="qco-value-box green">OK_PLS</div>
                            <div class="qco-value-box green">@Model.Qco1.OkPls</div>
                        </div>
                    </div>
                    <div class="qco-item">
                        <div class="qco-name">@Model.Qco2.Name</div>
                        <div class="qco-values">
                            <div class="qco-value-box blue">OK_C</div>
                            <div class="qco-value-box blue">@Model.Qco2.OkC</div>
                        </div>
                        <div class="qco-values" style="margin-left: 10px;">
                            <div class="qco-value-box green">OK_PLS</div>
                            <div class="qco-value-box green">@Model.Qco2.OkPls</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="product-result-section">
            <div class="product-result-box green-border">
                <div class="label">@Model.SpQcOk.Label</div>
                <div class="value">@Model.SpQcOk.Value</div>
                <div class="percentage">@Model.SpQcOk.Percentage%</div>
            </div>
            <div class="product-result-box green-border">
                <div class="label">@Model.PolQcOk.Label</div>
                <div class="value">@Model.PolQcOk.Value</div>
                <div class="percentage">@Model.PolQcOk.Percentage%</div>
            </div>
            <div class="product-result-box red-border">
                <div class="label">@Model.Repair.Label</div>
                <div class="value">@Model.Repair.Value</div>
                <div class="percentage">@Model.Repair.Percentage%</div>
            </div>
            <div class="product-result-box total-border">
                <div class="label">@Model.Total.Label</div>
                <div class="value">@Model.Total.Value</div>
                <div class="percentage">@Model.Total.Percentage%</div>
            </div>
            <div class="product-result-box ok-part-border" style="flex: 0.8;"> @* Ukuran agak beda *@
                            <div class="label">@Model.OkPart.Label</div>
                            <div style="display: flex; justify-content: space-around; width: 100%; margin-top: 5px;">
                                <div class="ok-part-target">
                                    <span class="label">TARGET</span><br>
                                    <span class="ok-part-value">@Model.OkPart.Target%</span>
                                </div>
                                <div class="ok-part-achive">
                                    <span class="label">ACHIVE</span><br>
                                    <span class="ok-part-value">@Model.OkPart.Achive</span>
                                </div>
                            </div>
                            <div class="ok-part-percentage">@Model.OkPart.Percentage%</div>
                        </div>
                    </div>

                </div>

                <script src="~/lib/jquery/dist/jquery.min.js"></script>
                <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
                <script src="~/js/site.js" asp-append-version="true"></script>

                @* Script untuk update waktu real-time (opsional) *@
                <script>
                    function updateDateTime() {
                        const now = new Date();
                        const optionsDate = { weekday: 'long', day: '2-digit', month: '2-digit', year: 'numeric' };
                        const optionsTime = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
                        const formattedDate = now.toLocaleDateString('id-ID', optionsDate).replace(/\./g, ''); // Remove periods
                        const formattedTime = now.toLocaleTimeString('id-ID', optionsTime);

                        // Assuming you use these IDs or update directly from model if rendered from server
                        // This part would need AJAX if you want to update without page refresh
                        // For a simple refresh, you can just set the model properties in controller
                        // and refresh the page or use a WebSocket/SignalR for true real-time
                        // For this example, model values are static from server render.
                    }
                    // setInterval(updateDateTime, 1000); // Uncomment if you want client-side time update
                    // updateDateTime(); // Initial call
                </script>
</body>
</html>

<!-- Keterangan -->
<div class="fullscreen-tip">Tekan <b>F</b> untuk fullscreen • Halaman akan refresh otomatis tiap 60 detik</div>

<!-- Script -->
<script>
    // Auto-refresh per 60 detik
    setTimeout(() => {
        window.location.reload();
    }, 60000);

    // Tekan F untuk fullscreen
    document.addEventListener("keydown", function (e) {
        if (e.key === "f" || e.key === "F") {
            document.documentElement.requestFullscreen();
        }
    });
</script>
